<div class=" main-header student">
  <h1>Student</h1>
  <a href="student/add">Add</a>
  <div class="search-hero">
    <input class="form-control" type="text" name="search" [(ngModel)]="searchText" autocomplete="off" placeholder="&#61442;  Start searching for a hero by id or name or country">
  </div>
<div class="panel-body col-sm-11">
<table class="table table-striped table-bordered" >
<thead>
  <tr>
    <th>Student_id</th>
    <th>Name</th>
    <th>Age</th>
    <th>Gender</th>
    <th>Address</th>
    <th>Action</th>
  </tr>
</thead>
<tbody>
  <tr *ngFor="let student of students|paginate:{itemsPerPage:5, currentPage: p} " style="width: 300px;">
    <td>{{student.student_id}}</td>
    <td><a href="student/{{student.student_id}}"
        rel="follow, index">{{student.name}}</a></td>
    <td>{{student.age}}</td>
    <td>{{student.gender}}</td>
    <td>{{student.address}}</td>
    <td>
      <!-- <button type="button" class="button btn-danger"
      (click)="deleteStudentById(student.student_id)">Delete</button>
    &nbsp; -->
      <button (click)="updateStudent(student.student_id)" class='btn btn-info' data-toggle="modal"
        data-target="#myModal">Update</button>
      &nbsp;
      <button (click)="updateStudent(student.student_id)" class='btn btn-danger' data-toggle="modal"
        data-target="#myModalDelete">Dlete</button>

    </td>
  </tr>
</tbody>
</table>
<pagination-controls (pageChange)="p = $event"></pagination-controls>

</div>
<!-- UPDATE -->
<div class="modal" id="myModal">
<div class="modal-dialog">
<div class="modal-content">
  <form [formGroup]="studentupdateform" (ngSubmit)="updateStu(student2)">
    <!-- Modal Header -->
    <div class="modal-header">
      <h4 class="modal-title" style="text-align: center">Update Student</h4>

    </div>

    <!-- Modal body -->
    <div class="modal-body" *ngIf="student2">
      <div [hidden]="isupdated">

        <input type="hidden" class="form-control" formControlName="student_id" [(ngModel)]="student2.student_id">
        <div class="form-group">
          <label for="name">Student Name</label>
          <input type="text" class="form-control" id="name" name="name" formControlName="name"
            [(ngModel)]="student2.name">
          <div class="alert alert-danger" *ngIf="(Name.touched) && (Name.invalid)" style="margin-top: 5px;">
            <span *ngIf="Name.errors.required">Name is Required</span>
            <span *ngIf="Name.errors.minlength">
              MinLength Error
            </span>
          </div>
        </div>

        <div class="form-group">
          <label for="name">Age</label>
          <input type="text" class="form-control" id="age" name="age" formControlName="age"
            [(ngModel)]="student2.age">
          <div class="alert alert-danger" *ngIf="(Age.touched) && (Age.invalid)" style="margin-top: 5px;">
            <span *ngIf="Age.errors.required">Age is Required</span>
            <span *ngIf="Age.errors.minlength">
              MinLength Error
            </span>
          </div>
        </div>

        <div class="form-group">
          <label for="name">Gender</label>
          <select class="form-control" id="gender" name="gender" formControlName="gender" required>
            <option value="male" [selected]="'male' == student2.gender">male</option>
            <option value="female" [selected]="'female' == student2.gender">female</option>
          </select>
        </div>

        <div class="form-group">
          <label for="name">Address</label>
          <input type="text" class="form-control" id="address" name="address" formControlName="address"
            [(ngModel)]="student2.address">
          <div class="alert alert-danger" *ngIf="(Address.touched) && (Address.invalid)" style="margin-top: 5px;">
            <span *ngIf="Address.errors.required">Address is Required</span>
            <span *ngIf="Address.errors.minlength">
              MinLength Error
            </span>
          </div>
        </div>
      </div>
      <div [hidden]="!isupdated">
        <h4>Student Detail Updated!</h4>
      </div>

    </div>

    <!-- Modal footer -->
    <div class="modal-footer">
      <button type="submit" class="btn btn-success" [hidden]="isupdated">Update Student</button>
      <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
    </div>

  </form>
</div>
</div>
</div>

<!-- DELETE -->
<div class="modal" id="myModalDelete">
<div class="modal-dialog">
<div class="modal-content">
  <!-- Modal Header -->
  <div class="modal-header">
    <h4 class="modal-title" style="text-align: center">Delete Student</h4>
  </div>
  <!-- Modal body -->
  <div class="modal-body" *ngIf="student2">
    <div>
      DELETE Student {{student2.name}} with id {{student2.student_id}}
    </div>
  </div>
  <!-- Modal footer -->
  <div class="modal-footer">
    <button type="button" class="button btn-danger" (click)="deleteStudentById(student2.student_id)"
      data-dismiss="modal">Delete</button>
    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
  </div>
</div>
</div>
</div>